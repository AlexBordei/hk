"use strict";!function(_){function e(e){"provided"===e?(_("#coleteonline_courier_display_order_type").parents("tr").hide(),_("#coleteonline_service_selection_type").parents("tr").show(),_("#coleteonline_service_selection_display_count").parents("tr").hide(),_("#coleteonline_service_selection_custom_name_toggle").val("no"),_("#coleteonline_service_selection_custom_name_toggle").parents("tr").hide(),_("#coleteonline_service_selection_custom_name").parents("tr").hide()):(_("#coleteonline_courier_display_order_type").parents("tr").show(),_("#coleteonline_service_selection_type").parents("tr").hide(),_("#coleteonline_service_selection_display_count").parents("tr").show(),_("#coleteonline_service_selection_custom_name_toggle").parents("tr").show())}function n(e){e?_("#coleteonline_service_selection_custom_name").parents("tr").show():_("#coleteonline_service_selection_custom_name").parents("tr").hide()}function t(e){e?_("#coleteonline_service_selection_custom_name_first").parents("tr").show():_("#coleteonline_service_selection_custom_name_first").parents("tr").hide()}function i(){var t=[];_(".shipping-services-table-coleteonline tbody").find("input[type='checkbox']:checked").parents("tr").find("td.id").each(function(e,n){t.push(n.innerHTML)}),_("#coleteonline_service_list_hidden").val(JSON.stringify(t))}function o(){"fixed_price"===_("#coleteonline_price_type").val()?(_("#coleteonline_price_fixed_price_amount").parents("tr").show(),_("#coleteonline_price_add_fixed_amount").parents("tr").hide(),_("#coleteonline_price_add_percent_amount").parents("tr").hide(),_("#coleteonline_price_round_before_tax").parents("tr").hide()):(_("#coleteonline_price_fixed_price_amount").parents("tr").hide(),_("#coleteonline_price_add_fixed_amount").parents("tr").show(),_("#coleteonline_price_add_percent_amount").parents("tr").show(),_("#coleteonline_price_round_before_tax").parents("tr").show())}function c(){var e=+_("#coleteonline_price_free_shipping").val();_("#coleteonline_price_free_shipping_min_amount").parents("tr").hide(),_("#coleteonline_price_free_shipping_classes").parents("tr").hide(),_("#coleteonline_price_free_shipping_after_name_text").parents("tr").hide(),1!=e&&3!=e||(_("#coleteonline_price_free_shipping_min_amount").parents("tr").show(),_("#coleteonline_price_free_shipping_after_name_text").parents("tr").show()),2!=e&&3!=e||(_("#coleteonline_price_free_shipping_classes").parents("tr").show(),_("#coleteonline_price_free_shipping_after_name_text").parents("tr").show())}function l(){"user_choice"===_("#coleteonline_order_open_at_delivery").val()?_("#coleteonline_order_open_at_delivery_text").parents("tr").show():_("#coleteonline_order_open_at_delivery_text").parents("tr").hide()}_("table.shipping-services-table-coleteonline tbody").sortable(),_("table.shipping-services-table-coleteonline tbody tr").each(function(){var e=_(this).find("td:first");e.addClass("ui-sortable-handle"),e.css("display: table-cell")}),_("#coleteonline_courier_selection_choice_type").change(function(){e(this.value)}),e(_("#coleteonline_courier_selection_choice_type").val()),_("#coleteonline_service_selection_custom_name_toggle").change(function(){n(this.checked)}),n(_("#coleteonline_service_selection_custom_name_toggle").is(":checked")),_("#coleteonline_service_selection_first_custom_name_toggle").change(function(){t(this.checked)}),t(_("#coleteonline_service_selection_first_custom_name_toggle").is(":checked")),_(".shipping-services-table-coleteonline tbody").find("input[type='checkbox']").change(function(){i()}),_("#cb-select-all-2, #cb-select-all-1").change(i),_(".shipping-services-table-coleteonline").on("sortstop",i),_("#coleteonline_price_type").change(o),o(),_("#coleteonline_price_free_shipping").change(c),c(),_("#coleteonline_order_open_at_delivery").change(l),l();try{for(var r=JSON.parse(_("#coleteonline_service_list_hidden").val()),s=0;s<r.length;++s)!function(e){var t=r[e];_(".shipping-services-table-coleteonline tbody tr").each(function(e,n){+_(n).find(".id").text()==+t&&_(n).appendTo(".shipping-services-table-coleteonline tbody")}),_("#coleteonline-service-id-".concat(t)).attr("checked","checked")}(s);_(".shipping-services-table-coleteonline tbody").find("input[type='checkbox']:checked").length===_(".shipping-services-table-coleteonline tbody").find("input[type='checkbox']").length&&_("#cb-select-all-2, #cb-select-all-1").attr("checked","checked")}catch(e){}function a(){"no"===_("#coleteonline_display_fallback_price").val()?(_("#coleteonline_fallback_price_amount").parents("tr").hide(),_("#coleteonline_fallback_service_name").parents("tr").hide()):(_("#coleteonline_fallback_price_amount").parents("tr").show(),_("#coleteonline_fallback_service_name").parents("tr").show())}function p(){"no"===_("#coleteonline_order_add_custom_shipping_status").val()?_("#coleteonline_order_change_to_shipping_status").parents("tr").hide():_("#coleteonline_order_change_to_shipping_status").parents("tr").show()}function d(){"no"===_("#coleteonline_order_auto_create_order").val()?_("#coleteonline_order_auto_create_on_status_on-hold_to_processing").parents("tr").hide():_("#coleteonline_order_auto_create_on_status_on-hold_to_processing").parents("tr").show()}function h(){var e=_("#coleteonline_price_currency_type").val();"shop_base"===e?_("#coleteonline_price_base_currency").parents("tr").hide():"custom"===e&&_("#coleteonline_price_base_currency").parents("tr").show()}_.post(ajaxurl,{action:"coleteonline_get_all_addresses"},function(t){t=JSON.parse(t);for(var e=_("#coleteonline_default_shipping_address"),n=[],i=0,o=0;o<t.addresses.length;++o){var c=t.addresses[o],i=i||c.id;n.push(new Option(c.shortName+" - "+c.address,c.id,!1,!1))}e.append(n),_("#coleteonline_default_shipping_address").on("select2:select",function(n){_("#coleteonline_default_shipping_address_id").val("".concat(n.params.data.id));var e=t.addresses.find(function(e){return+e.id==+n.params.data.id});void 0!==e&&_("#coleteonline_default_shipping_address_full_data").val(JSON.stringify(e.addressObject))}),t.selected?e.val(t.selected):_("#coleteonline_default_shipping_address").trigger({type:"select2:select",params:{data:{id:i}}})}),_("#coleteonline_default_shipping_address_id").parents("tr").hide(),_("#coleteonline_default_shipping_address_full_data").parents("tr").hide(),_("#coleteonline_display_fallback_price").change(a),a(),_("#coleteonline_order_add_custom_shipping_status").change(p),p(),d(),_("#coleteonline_order_auto_create_order").change(d),h(),_("#coleteonline_price_currency_type").change(h)}(jQuery);